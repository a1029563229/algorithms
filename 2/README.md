# 算法基础

## 背包、队列和栈

- 背包：背包是一种不支持从中删除元素的集合数据类型——它的目的就是帮助用例收集元素并迭代遍历所有收集到的元素。
- 队列：先进先出队列（或简称队列）是一种基于先进先出（FIFO）策略的集合类型；
- 下压栈（或简称栈）是一种基于后进先出（LIFO）策略的集合类型；

## 算法分析

- 程序在不同的计算机上运行时间之比通常是一个常数。
- 一个程序运行的总时间主要和两点有关
  - 执行每条语句的耗时；
  - 执行每条语句的效率；

### 增长数量级的分类

- 常数级别（1）
  - 普通语句、将两个数相加；
  - 运行时间的增长数量级为常数的程序完成它的任务所需的操作次数一定，因此它的运行时间不依赖于 N。大多数的 Java 操作所需的时间均为常数；
- 对数级别（log N）
  - 二分策略、二分查找；
  - 运行时间的增长数量级为对数的程序仅比常数时间的程序稍慢。运行时间和问题规模成对数关系的程序的经典例子就是二分查找。
- 线性级别（N）
  - 单循环、找出最大元素；
  - 使用常数时间处理输入数据中的所有元素或是基于单个 for 循环的程序是十分常见的。此类程序的增长数量级是线性的——它的运行时间和 N 成正比。
- 线性对数级别（N log N）
  - 分治、归并排序；
  - 我们用线性对数描述运行时间和问题规模 N 的关系为 NlogN 的程序。
- 平方级别（N^2）
  - 双层循环、检查所有元素对、初级排序算法；
  - 一个运行时间的增长数量级为 N^2 的程序一般都含有两个嵌套的 for 循环，对由 N 个元素得到的所有元素对进行计算。
- 立方级别（N^3）
  - 三层循环、检查所有三元组；
  - 一个运行时间的增长数量级为 N^3 的程序一般都含有三个嵌套的 for 循环，对由 N 个元素得到的所有三元组进行计算；
- 指数级别（2^N）
  - 穷举查找、检查所有子集；
  - 我们一般会使用指数级别来描述增长数量级为 b^N 的算法，其中 b > 1 且为常数；
  - 指数级别的算法非常慢，不太可能用它们来解决大规模的问题；

## Java 中的内存管理

- 一般内存的使用都会被填充为 8 字节（64 位计算机中的机器字）
- 对象的引用一般都是一个内存地址，因此会使用 8 字节；
- Integer
  ```java
    public class Integer {
      private int x;
    }
  ```
  - 一个 Integer 对象会使用 24 字节；
  - 16 字节的对象开销，4 字节用于保存它的 int 值以及 4 字节的填充字节；
- Date
  ```java
    public class Date {
      private int day;
      private int month;
      private int year;
    }
  ```
  - 一个 Date 对象需要使用 32 字节；
  - 16 字节的对象开销，3 个 int 实例变量各需 4 字节，以及 4 个填充字节；
- Counter
  ```java
    class Counter {
      private String name;
      private int count;
    }
  ```
  - 一个 Counter 对象需要使用 32 字节；
  - 16 字节的对象开销，8 字节用于它的 String 型实例变量（一个引用），4 字节用于 int 实例变量，以及 4 个填充字节；
- 数组
  - 一个原始数据类型的数组一般需要 24 字节的头信息；
  - 16 字节的对象开销，4 字节用于保存长度以及 4 填充字节再加上保存值所需的内存；
  - N 个 int 值数组需要使用 24 + 4N 字节（会被填充为 8 的倍数）；
  - N 个 double 值数组需要使用 24 + 8N 字节；
- String
  - String 对象总会使用 40 个字节；
  - 16 字节表示对象，3 个 int 实例变量各需 4 字节（偏移量、长度、散列值），加上数组引用的 8 字节和 4 个填充字节；
  - 上面是除字符数组之外字符串所需的内存空间，所有字符所需的内存需要另记，因为 String 的 char 数组常常是在多个字符串之间共享的；因为 String 对象是不可变的，这种设计使 String 的实现在能够在多个对象都含有相同的 value[] 数组时节省内存；
  - 一个长度为 N 的 String 对象一般需要使用 40 字节（String 对象本身）加上 （24 + 2N）字节（字符数组），总共（64 + 2N）字节；
  - 当你调用 substring() 方法时，就创建了一个新的 String 对象（40 字节），但它仍然重用了相同的 value[] 数组，因此该字符串的子字符串只会使用 40 字节的内存；
  - 一个子字符串所需的额外内存是一个常数，构造一个子字符串所需的时间也是常数；
- 小结
  - 在编程领域中，最常见的错误或许就是过于关注程序的性能。你的首要任务应该是写出清晰正确的代码。仅仅为了提高运行速度而修改程序的事最好留给专家们来做。事实上，这么做常常会降低生产效率，因为它会产生复杂而难以理解的代码。在编程领域中，不成熟的优化是所有罪恶之源。
  - 在编程领域中，第二常见的错误或许是完全忽略了程序的性能。较快的算法一般都比暴力算法更复杂，所以很多人宁可使用较慢的算法也不愿应付复杂的代码。但是，几行优秀的代码有时能够给你带来巨大的收益。当我们需要处理大规模问题时，通常，除了寻找更好的算法之外我们别无选择。